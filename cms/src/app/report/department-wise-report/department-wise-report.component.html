
<div class="container">
  <div class="row mt-5">
    <div class="col">
      <h6 class="mt-4 text-dark" style="font-weight: 600;">DEPARTMENT WISE <span class="text-danger">COMPLAINS REPORT</span></h6>
    </div>
  </div>

  <div class="row justify-content-center xp mt-5" >
    <div class="col-md-6">
      <!-- <div class="card">
        <div class="card-body"> -->
      
        <div class="row">
          <div class="col-md-6">
            <select class="form-control" #orga (change)="orG(orga.value)">
              <option>--Choose Organisation--</option>
              <option *ngFor="let dt of all_course" [value]="dt.OrganizationId">{{dt.OrganizationName}}{{dt.OrganizationId}}</option>
            </select>
          </div>
          <div class="col-md-6"  (change)="deptWise(orga.value,dept.value)">
            <select class="form-control" #dept>
              <option>--Choose Department--</option>
              <option *ngFor="let dt of all_dpt" [value]="dt.departmentId">{{dt.deptName}}</option>
            </select>
          </div>
        </div>
          
        <!-- </div>
        </div> -->
    </div>
  </div>


  <div class="col-sm printcsv xp mt-5" align="right" [hidden]="deptt">
    <a ><i class="fa-solid fa-file-excel fa-2xl p-2" style="color:green;"></i></a>
    <a (click)="PrintsolvedReport()"> <i class="fa-solid fa-print fa-2xl p-2"></i></a>
   </div>

  <div class="row mt-2" [hidden]="deptt" #printableDiv>
    <div class="col">
      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr class="bg-dark text-white">
              <th>Sl No</th>
              <th>Complaint Category</th>
              <th>Department Name</th>
              <th>Refrence No</th>
              <th>Complaint Date</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ad of alldata;let i = index">
              <td>{{i+1}}</td>
              <td>{{ad.category_name ?? 'NA'}}</td>
              <td>{{ad.dept_name ?? 'NA'}}</td>
              <td>{{ad.complaints_ref_no ?? 'NA'}}</td>
              <td>{{ad.complaint_date ?? 'NA'}}</td>
              <td>{{ad.complaints_desc ?? 'NA'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <!-- Modal -->
</div>
